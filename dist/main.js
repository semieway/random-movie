import*as fn from"./functions.js";document.addEventListener("DOMContentLoaded",(function(){fn.renderMovie();let e=new SlimSelect({select:".genres-select",placeholder:"Select genres (max. 3)",limit:3,hideSelectedOption:!0,closeOnSelect:!0,showSearch:!1}),t=document.querySelector(".setting-years");noUiSlider.create(t,{start:[1900,(new Date).getFullYear()],step:1,connect:!0,range:{min:[1900,10],"3%":[1910,10],"6%":[1920,10],"9%":[1930,10],"12%":[1940,10],"15%":[1950,10],"18%":[1960,10],"21%":[1970,1],max:[2020]},format:{to:function(e){return e},from:function(e){return Number(e)}}});let l=document.querySelector(".years-left-tooltip"),o=document.querySelector(".years-right-tooltip");t.noUiSlider.on("update",(function(e,t){l.innerHTML=e[0],o.innerHTML=e[1]}));let n=document.querySelector(".cast-list"),r=document.querySelector(".cast-scroll-button");r.addEventListener("click",(function(e){r.classList.add("scrolled"),n.scroll({left:n.scrollWidth,behavior:"smooth"})})),n.addEventListener("scroll",(function(e){n.scrollLeft>0&&r.classList.add("scrolled")})),document.querySelector(".roll-button").addEventListener("click",(function(l){fn.showLoadingScreen();let o={};o.genres=e.selected(),o.years=t.noUiSlider.get(),fn.renderMovie(o),n.scrollLeft=0,r.classList.remove("scrolled")})),localStorage.getItem("lastRolled")||localStorage.setItem("lastRolled","[]")}));